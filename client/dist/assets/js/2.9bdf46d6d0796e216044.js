(window.webpackJsonp=window.webpackJsonp||[]).push([[2,3],{127:function(e,t,n){"use strict";t.a=n.p+"assets/img/flower.30323aa8579c2171493519aafd942e43.png"},128:function(e,t,n){"use strict";t.a=n.p+"assets/img/rock.2d506a59ea4729f0801b8a78617d483b.png"},129:function(e,t,n){"use strict";t.a=n.p+"assets/img/location.5f42084df6b646e665d17f099f380ca3.png"},130:function(e,t,n){"use strict";var r=n(0);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=r.createElement("path",{d:"M106 0v512l150-145.789L406 512V0z"});t.a=function(e){return r.createElement("svg",o({viewBox:"0 0 512 512"},e),a)}},131:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(3),s=n(17),i=n.n(s),c=n(16),u=n(13),l=n(29);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.a=Object(c.b)(null,(function(e){return{onChangeAvatar:function(t){return e(Object(l.a)(t))}}}))(Object(a.f)(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,a=b(s);function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{defaultImg:defaultImg};return p(this,s),(e=a.call(this,t)).state={filePath:"",fileName:""},e.fileSelectedHandler=e.fileSelectedHandler.bind(y(e)),e.toastNoti=u.i.bind(y(e)),e}return t=s,(n=[{key:"UNSAFE_componentWillUpdate",value:function(e,t){var n=this.props;e.reset&&e.reset!=n.reset&&this.setState({filePath:""}),this.toastNoti(t)}},{key:"fileSelectedHandler",value:function(e){var t=this,n=new FormData;n.append("file",e.target.files[0]);var r="/review"!=this.props.history.location.pathname;i.a.post("http://localhost:9000/api/upload/photo",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var n=e.data.filePath;if(t.setState({filePath:n}),t.props.onChange&&t.props.onChange(n),r){var o={avatar:n};i.a.post("http://localhost:9000/api/user/change-avatar",o).then((function(e){t.props.onChangeAvatar(n),t.props.socket.emit("changeAvatar",t.props.userId),t.setState({successMessage:e.data.message})})).catch((function(e){console.log(e.message||e.response.data.message),t.setState({errorMessage:e.message||e.response.data.message})}))}})).catch((function(e){e?console.log(e.message):console.log(e.response.data.message)}))}},{key:"render",value:function(){var e=this.state.filePath?this.state.filePath:this.props.defaultImg;return o.a.createElement("div",{className:"photo-upload"},o.a.createElement("input",{className:"photo-upload__btn",disabled:this.props.disabled,type:"file",onChange:this.fileSelectedHandler,required:!0}),o.a.createElement("img",{src:e,className:"photo-upload__photo",alt:"Photo"}))}}])&&m(t.prototype,n),r&&m(t,r),s}(r.Component)))},132:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(28),s=n(16),i=(n(40),n(127)),c=n(128),u=n(129),l=n(130),f=n(2),p=n(13);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.default=Object(s.b)((function(e){return{isLoggedIn:e.currentUser.isLoggedIn,currentUser:e.currentUser.userData,isOpen:e.popup.isOpen,socket:e.socket.socket}}),(function(e){return{onOpen:function(){return e({type:f.h})}}}))(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(f,e);var t,n,r,s=h(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=s.call(this,e)).state={isBookmark:"bookmark--unnoted",successMessage:"",errorMessage:""},t.bookmark=p.a.bind(g(t)),t.toastNoti=p.i.bind(g(t)),t.isUserInArr=p.e.bind(g(t)),t.isBookmark=t.isBookmark.bind(g(t)),t}return t=f,(n=[{key:"componentDidMount",value:function(){var e=this.isBookmark(this.state,this.props);this.setState({isBookmark:e})}},{key:"isBookmark",value:function(e,t){var n=t.isLoggedIn,r=t.currentUser,o=t.info,a="bookmark--unnoted";return n&&o.notes&&(a=this.isUserInArr(o.notes,r.id)?"bookmark--noted":"bookmark--unnoted"),a}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){if(this.toastNoti(t),e.isLoggedIn||(t.isBookmark="bookmark--unnoted"),e.isLoggedIn&&!this.props.isLoggedIn){var n=this.isBookmark(t,e);t.isBookmark=n}}},{key:"render",value:function(){var e=this,t=this.state.isBookmark,n=this.props.info,r="/destinations/"+n._id;return o.a.createElement("div",{className:"dest-box"},o.a.createElement("div",{className:"dest-box__bookmark"},o.a.createElement(l.a,{onClick:function(){return e.bookmark(n._id,e.props.isUserProfile)},className:t})),o.a.createElement("div",{className:"dest-box__react"},o.a.createElement("div",{className:"react-box"},o.a.createElement("img",{src:i.a,className:"react-box__icon",alt:"Flower"}),o.a.createElement("span",{className:"react-box__info"},n.flowersTotal)),o.a.createElement("div",{className:"react-box"},o.a.createElement("img",{src:c.a,className:"react-box__icon",alt:"Rock"}),o.a.createElement("span",{className:"react-box__info"},n.rocksTotal))),o.a.createElement("img",{src:n.avatar,className:"dest-box__photo",alt:"Destination photo"}),o.a.createElement("div",{className:"dest-box__info"},o.a.createElement("h4",{className:"dest-box-info__heading"},n.name),o.a.createElement("div",{className:"dest-box-info__address"},o.a.createElement("img",{src:u.a,className:"dest-box-info__address-icon",alt:"Location"}),o.a.createElement("span",{className:"dest-box-info__address-info"},n.address)),o.a.createElement(a.b,{to:r,className:"dest-box-info__btn"},o.a.createElement("div",{className:"btn-arr btn-arr--right"},"Know more ",o.a.createElement("span",{className:"btn-arr--yellow"},"→")," "))))}}])&&d(t.prototype,n),r&&d(t,r),f}(r.Component))},155:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(3),s=n(16),i=n(131),c=n(17),u=n.n(c),l=(n(40),n(13));function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=Object(a.f)(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,n,r,a=d(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={userId:e.match.params.userId,userName:"",placeholder:"",isVisibled:!1,isDisabled:!0,btnChange:"Change",btnDisabled:"",inputStyle:"input u-margin-bottom-tiny "},t.changeHandler=t.changeHandler.bind(h(t)),t.submitHandler=t.submitHandler.bind(h(t)),t.validateName=l.n.bind(h(t)),t.toastNoti=l.i.bind(h(t)),t.trimValue=l.j.bind(h(t)),t.inputHandler=t.inputHandler.bind(h(t)),t}return t=s,(n=[{key:"UNSAFE_componentWillUpdate",value:function(e,t){var n=this,r=this.state;e.userName&&!r.userName&&(t.userName=e.userName,t.userNameInitial=e.userName),this.toastNoti(t),this.props.socket.on("returnUserProfileOf".concat(this.state.userId),(function(e){e.error?n.setState({errorMessage:e.error}):n.setState({userName:e.name})}))}},{key:"inputHandler",value:function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,r))}},{key:"changeHandler",value:function(){var e="Change"==this.state.btnChange?"Later":"Change";this.setState({isVisibled:!this.state.isVisibled,btnChange:e,isDisabled:!this.state.isDisabled})}},{key:"submitHandler",value:function(e){var t=this;e.preventDefault();var n=this.state.userName;if(this.validateName(n,"nameInput","input u-margin-bottom-tiny input--error")){this.setState({btnDisabled:"disabled",isDisabled:!0});var r={name:Object(l.j)(n)};u.a.post("http://localhost:9000/api/user/change-name",r).then((function(e){t.props.socket.emit("changeName",t.props.userId),t.setState({successMessage:e.data.message})})).catch((function(e){t.setState({errorMessage:e.message||e.response.data.message})})).finally(this.setState({btnDisabled:"",isDisabled:!0,isVisibled:!1,btnChange:"Change",inputStyle:"input u-margin-bottom-tiny "}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.isDisabled,r=t.userName,a=t.btnChange,s=t.isVisibled,i=t.btnDisabled,c=t.inputStyle,u=t.placeholder,l=(t.userId,this.props.isCurrentUser),f=n?"disabled":"";return o.a.createElement("div",{className:"name-change-form"},o.a.createElement("form",{onSubmit:this.submitHandler},o.a.createElement("h4",{className:"form__title heading-tertiary"},"NAME"),!s&&o.a.createElement("input",{name:"userName",className:"input input--primary u-margin-bottom-tiny",defaultValue:r,disabled:f,onChange:this.inputHandler}),s&&o.a.createElement("input",{ref:function(t){return e.nameInput=t},name:"userName",className:c,placeholder:u,defaultValue:r,onChange:this.inputHandler,disabled:f})),l&&o.a.createElement("button",{className:"btn-page-control u-margin-right-tiny u-margin-top-small",onClick:this.changeHandler,disabled:i},a),l&&s&&o.a.createElement("button",{type:"submit",className:"btn-page-control u-margin-top-small",onClick:this.submitHandler,disabled:i},"Change"))}}])&&p(t.prototype,n),r&&p(t,r),s}(r.Component)),v=n(127),_=n(128);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(s,e);var t,n,r,a=N(s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,e)}return t=s,(n=[{key:"render",value:function(){var e=this.props.flowers>1?"".concat(this.props.flowers," flowers"):"".concat(this.props.flowers," flower"),t=this.props.rocks>1?"".concat(this.props.rocks," rocks"):"".concat(this.props.rocks," rock");return o.a.createElement("div",{className:"assets"},o.a.createElement("h4",{className:"assets__title heading-tertiary"},"ASSETS"),o.a.createElement("div",{className:"assets__content"},o.a.createElement("div",{className:"assets__box"},o.a.createElement("img",{src:v.a,alt:"flower",className:"assets__box-icon"}),o.a.createElement("span",{className:"assets__box-name"},e)),o.a.createElement("div",{className:"assets__box"},o.a.createElement("img",{src:_.a,alt:"rock",className:"assets__box-icon"}),o.a.createElement("span",{className:"assets__box-name"},t))))}}])&&k(t.prototype,n),r&&k(t,r),s}(r.Component);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(s,e);var t,n,r,a=R(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={isVisibled:!1,btnDisabled:"",btnChange:"Change",isDisabled:!1,placeholder:"",inputStyle:"input u-margin-bottom-tiny "},t.changeHandler=t.changeHandler.bind(I(t)),t.submitHandler=t.submitHandler.bind(I(t)),t.inputHandler=t.inputHandler.bind(I(t)),t.toastNoti=l.i.bind(I(t)),t.validatePwd=l.o.bind(I(t)),t.checkMatchPwd=l.b.bind(I(t)),t}return t=s,(n=[{key:"UNSAFE_componentWillUpdate",value:function(e,t){this.toastNoti(t)}},{key:"inputHandler",value:function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,r))}},{key:"changeHandler",value:function(){var e="Change"==this.state.btnChange?"Later":"Change";this.setState({isVisibled:!this.state.isVisibled,btnChange:e,placeholder:"",inputStyle:"input u-margin-bottom-tiny "})}},{key:"submitHandler",value:function(e){var t=this;e.preventDefault();var n=this.state,r=n.currentPassword,o=n.checkNewPassword,a=n.newPassword,s="input u-margin-bottom-tiny input--error",i=this.validatePwd(r,"currentPwd",s),c=this.validatePwd(o,"checkNewPassword",s),l=this.validatePwd(a,"newPwd",s),f=!1;if(c&&l&&(f=this.checkMatchPwd(a,"newPwd",o,"checkNewPassword",s)),i&&c&&l&&f){this.setState({btnDisabled:"disabled",isDisabled:!this.state.isDisabled});var p={currentPassword:this.state.currentPassword,newPassword:this.state.newPassword};u.a.post("http://localhost:9000/api/user/change-password",p).then((function(e){t.setState({successMessage:e.data.message,btnDisabled:"",isDisabled:!1,isVisibled:!1,btnChange:"Change",inputStyle:"input u-margin-bottom-tiny "})})).catch((function(e){t.setState({errorMessage:e.response.data.message,btnDisabled:"",isDisabled:!1,inputStyle:"input u-margin-bottom-tiny input--error"})}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.isVisibled,r=t.btnDisabled,a=t.btnChange,s=t.isDisabled,i=t.placeholder,c=t.inputStyle,u=s?"disabled":"";return o.a.createElement("div",{className:"pwd-change-form"},o.a.createElement("form",null,o.a.createElement("h4",{className:"form__title heading-tertiary"},"Change password"),o.a.createElement("div",{className:"form__content"},n&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{ref:function(t){return e.currentPwd=t},type:"password",name:"currentPassword",className:c,onChange:this.inputHandler,disabled:u,placeholder:i||"Currrent password"}),o.a.createElement("input",{ref:function(t){return e.newPwd=t},type:"password",name:"newPassword",className:c,placeholder:i||"New password",disabled:u,onChange:this.inputHandler}),o.a.createElement("input",{ref:function(t){return e.checkNewPassword=t},type:"password",name:"checkNewPassword",className:c,placeholder:i||"New password confirmation",disabled:u,onChange:this.inputHandler})))),o.a.createElement("button",{className:"btn-page-control u-margin-right-tiny u-margin-top-small",onClick:this.changeHandler,disabled:r},a),n&&o.a.createElement("button",{type:"submit",className:"btn-page-control u-margin-top-small",onClick:this.submitHandler,disabled:r},"Change"))}}])&&C(t.prototype,n),r&&C(t,r),s}(r.Component),T=n(28),M=n(132);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W(this,n)}}function W(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=Object(a.f)(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(s,e);var t,n,r,a=F(s);function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:title};return A(this,s),(e=a.call(this,t)).state={userId:t.match.params.userId},e}return t=s,(n=[{key:"render",value:function(){var e=this.props.title,t=this.props[e],n="".concat(this.state.userId,"/").concat(e);if(t&&t.length){var r=t.length>4;return t=t.slice(0,4),o.a.createElement("div",{className:"slick"},o.a.createElement("div",{className:"slick__title"},o.a.createElement("h5",{className:"heading-tertiary"},e),r&&o.a.createElement(T.b,{to:n,className:"btn-arr btn-arr--right"},"See all →")),o.a.createElement("div",{className:"slick__content"},t.map((function(e){if(e)return o.a.createElement(M.default,{isUserProfile:!0,key:e._id,info:e})}))))}return o.a.createElement("div",{className:"slick"},o.a.createElement("div",{className:"slick__title"},o.a.createElement("h5",{className:"heading-tertiary"},e)),o.a.createElement("div",{className:"slick__content"},o.a.createElement("h2",{className:"u-center-text u-text-bold u-center-el u-color-light"},"No post found")))}}])&&B(t.prototype,n),r&&B(t,r),s}(r.Component));function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}function X(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.default=Object(s.b)((function(e){return{currentUser:e.currentUser.userData,socket:e.socket.socket}}))(Object(a.f)(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(s,e);var t,n,r,a=Q(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={userId:e.match.params.userId,user:{}},t.updateSocket=l.k.bind(Y(t)),t.updateProfile=t.updateProfile,t}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.socket.emit("getUserProfile",this.state.userId),this.updateProfile()}},{key:"updateProfile",value:function(){var e=this;this.props.socket.on("returnUserProfileOf".concat(this.state.userId),(function(t){t.error?e.setState({errorMessage:t.error}):e.setState({user:t})}))}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){e.match.params.userId!=this.props.match.params.userId&&(e.socket.emit("getUserProfile",e.match.params.userId),this.updateSocket("user","returnUserProfileOf".concat(e.match.params.userId)))}},{key:"componentWillUnmount",value:function(){this.props.socket.off("returnUserProfileOf".concat(this.state.userId))}},{key:"render",value:function(){var e=this.state,t=e.user,n=e.userId,r=n==this.props.currentUser.id;return o.a.createElement("section",{className:"section-user-profile u-margin-horizontal-5"},o.a.createElement("div",{className:"user__info u-margin-bottom-medium"},r&&o.a.createElement(i.a,{socket:this.props.socket,userId:n,isCurrentUser:r,defaultImg:t.avatar,className:"user__avatar"}),!r&&o.a.createElement("div",{className:"photo-upload"},o.a.createElement("img",{src:t.avatar,className:"photo-upload__photo",alt:"Photo"})),o.a.createElement(g,{socket:this.props.socket,userId:n,isCurrentUser:r,userName:t.name}),o.a.createElement(P,{flowers:t.flowersTotal,rocks:t.rocksTotal}),r&&o.a.createElement(U,null)),o.a.createElement("div",{className:"user__posts"},o.a.createElement(J,{reviews:t.reviews,title:"reviews"}),o.a.createElement(J,{notes:t.notes,title:"notes"})))}}])&&K(t.prototype,n),r&&K(t,r),s}(r.Component)))}}]);